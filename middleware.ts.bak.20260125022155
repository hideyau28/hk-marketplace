import { NextResponse } from "next/server";
import type { NextRequest } from "next/server";

export function middleware(req: NextRequest) {
  const path = req.nextUrl.pathname;

  // Log only suspicious /undefined hits to identify source quickly
  if (path === "/undefined") {
    const ua = req.headers.get("user-agent") ?? "";
    const ref = req.headers.get("referer") ?? "";
    console.log("[HIT /undefined]", { ref, ua });
  }

  return NextResponse.next();
}

export const config = {
  matcher: ["/:path*"],
};
